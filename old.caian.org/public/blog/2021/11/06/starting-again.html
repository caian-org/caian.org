<!DOCTYPE html><html> <meta name="generator" content="Jekyll v4.2.2"/> <meta property="og:title" content="Starting again"/> <meta property="og:locale" content="en_US"/> <meta name="description" content="This project is alive once again. Last time I’ve poured energy into this, the site was still running on a self-managed nginx server at Vultr. Turns out I’m lazy and after a couple of months I gave up and deleted everything – one OpenBSD and two CentOS servers."/> <meta property="og:description" content="This project is alive once again. Last time I’ve poured energy into this, the site was still running on a self-managed nginx server at Vultr. Turns out I’m lazy and after a couple of months I gave up and deleted everything – one OpenBSD and two CentOS servers."/> <link rel="canonical" href="https://caian.org/blog/2021/11/06/starting-again.html"/> <meta property="og:url" content="https://caian.org/blog/2021/11/06/starting-again.html"/> <meta property="og:site_name" content="caian.org"/> <meta property="og:type" content="article"/> <meta property="article:published_time" content="2021-11-06T00:00:00-03:00"/> <meta name="twitter:card" content="summary"/> <meta property="twitter:title" content="Starting again"/> <script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2021-11-06T00:00:00-03:00","datePublished":"2021-11-06T00:00:00-03:00","description":"This project is alive once again. Last time I’ve poured energy into this, the site was still running on a self-managed nginx server at Vultr. Turns out I’m lazy and after a couple of months I gave up and deleted everything – one OpenBSD and two CentOS servers.","headline":"Starting again","mainEntityOfPage":{"@type":"WebPage","@id":"https://caian.org/blog/2021/11/06/starting-again.html"},"url":"https://caian.org/blog/2021/11/06/starting-again.html"}</script> <meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="icon" type="image/png" href="/assets/imgs/favicon.ico"/><link rel="alternate" type="application/rss+xml" title="caian.org" href="https://caian.org/blog/feed.xml"/><link id="theme" rel="stylesheet" href="/assets/css/themes/main/bright.css"/><link id="syntax" rel="stylesheet" href="/assets/css/themes/main/syntax/bright.css"/><title>caian.org | blog</title><body><div class="main"> <a href="/blog">Back</a> | <a id="change-theme" href="#" onclick="changeTheme()">Dark theme</a><h1>Starting again</h1> <div id="meta"> <p class="aleft"> <span class="tag-list"> <a href="https://caian.org/blog/tags/development">development</a> <a href="https://caian.org/blog/tags/updates">updates</a></span></p> <p class="aright"><span class="lighter">~4 mins read   2021-11-06</span></p> <div class="aclear"></div> </div> <p>This project is alive once again. Last time I’ve poured energy into this, the site was still running on a self-managed nginx server at Vultr. Turns out I’m lazy and after a couple of months I gave up and deleted everything – one OpenBSD and two CentOS servers.</p> <p>Don’t get me wrong: hosting your own shit is all fun and games, but – for me at least – it gets boring way too quickly. Oh well…</p> <h2 id="on-finding-a-new-landlord">On finding a new landlord</h2> <p>Static websites are cool again, so there’s actually a couple of options to choose from: <a href="https://surge.sh" target="_blank" rel="noopener noreferrer">surge</a>, <a href="https://vercel.com" target="_blank" rel="noopener noreferrer">vercel</a>, <a href="https://render.com" target="_blank" rel="noopener noreferrer">render</a>, <a href="https://pages.github.com" target="_blank" rel="noopener noreferrer">github pages</a>, <a href="https://docs.aws.amazon.com/AmazonS3/latest/userguide/WebsiteHosting.html" target="_blank" rel="noopener noreferrer">aws s3</a>, <a href="https://www.netlify.com" target="_blank" rel="noopener noreferrer">netlify</a>, <a href="https://www.digitalocean.com" target="_blank" rel="noopener noreferrer">digital ocean</a> and (the winner) <a href="https://pages.cloudflare.com" target="_blank" rel="noopener noreferrer">cloudflare pages</a>. You can most certainly find other options, but that’s how far I got on a 15 min search.</p> <p>Most of them are problematic in some way:</p> <ul> <li> <p><strong>Surge</strong> is the most interesting of all: you install a node package on your system, build your website locally and upload the dist with a single command. That’s it. No pipeline, no nothing. You can even add your own custom domain, but if you want secure (HTTPS) connections, you have to pay. 30 dollars, monthly, to be more specific. That’s a <strong>NO</strong> for me.</p> </li> <li> <p><strong>AWS S3</strong> has a similar approach, but the setup is more time consuming, the update (of pages) requires manual steps – although you can automate that on a CI/CD service – and, as always (that’s the AWS way of doing things), there are some hidden costs, such as cloudfront – if you pretend to serve content over HTTPS. Not appealing, actually.</p> </li> <li> <p><strong>GitHub Pages</strong> is an old buddy that has only one friend: Jekyll. And even this good ol’ friend is dealt with limitations: not all plugins are allowed and you can’t use anything besides Jekyll. Does your site need some help from another program? Perhaps you’re planning to use Gulp, Webpack or whatever to build? Then no deal.</p> </li> <li> <p><strong>Netlify</strong> and <strong>Digital Ocean</strong> are similar in their features, limitations and price model: you can use your own domain with a free SSL certificate and bring code from GitHub with automatic builds. But they limit your monthly build time (in minutes). Netlify gives you 300 minutes per month free. Digital Ocean gives you even less: 100 minutes per month and only 1 GB of outbound data transfer.</p> </li> <li> <p><strong>Vercel</strong> is less about static websites and more about FaaS (function-as-a-service) and custom stuff like NextJS. In a way, hosting a site on vercel is similar to doing on S3: you can absolutely do it, but most people aren’t, so the territory seems unfit.</p> </li> <li> <p><strong>Render</strong> and <strong>Cloudflare Pages</strong> seemed the most fit for the job: in both cases, you just connect the service to your GitHub account and the repository where the site is, provide a build command – <code class="language-plaintext highlighter-rouge">npm run build</code> or whatever – and that’s it. You can use your own domain and it will automatically be served over HTTPS. I’ve choosed the later only because I’m already using Cloudflare’s DNS services. That’s pretty much the only reason for not choosing Render. In the future, if Cloudflare introduces restrictions or even a price on their static site service, I’ll 100% be migrating to Render.</p> </li> </ul> <h2 id="pug-sass-gulp-and-other-front-end-toys">Pug, SASS, Gulp and other front-end toys</h2> <p>I’m no expert on this field – you probably figured this out by seeing how simple this whole website is. I’ve never liked how bloated the front-end stack is and I plan to never ever work professionaly with this clusterfuck of frameworks and tooling. Despite my sincerely belief that the modern web is fucked beyond repair, it is fun to mess around and see how many different hammers I can use to hit the same nail.</p> <p>Of course I <strong>could</strong> use plain HTML and CSS for the job, but why not complicate everything and introduce many different levels of abstractions on top of it? Again: I <strong>do not</strong> plan to make sites professionaly, so bodging and gluing stuff on top of other stuff is not only okay but fun in a perverse sense.</p> <p>I’ve rewrote the CSS to SASS, the HTML to Pug and built a transpilation process on top of Jekyll using Gulp. There’s a lot of Liquid templating that could be removed using Pug’s features like <code class="language-plaintext highlighter-rouge">include</code>, <code class="language-plaintext highlighter-rouge">extends</code> and inline javascript – that will be done another day. For the time being, I’ll say this project is stable enough to be tagged <code class="language-plaintext highlighter-rouge">1.0.0</code>.</p> <h2 id="silly-additions-and-the-future">Silly additions and the future</h2> <p>It took me more than 100 commits over a timespan of two weeks to get to this point. Besides the new tooling and fancy abstractions, I’ve also added some actually useful features here:</p> <ol> <li>Blog posts now have tags and an estimated read time;</li> <li>The dark theme is less broken;</li> <li>Syntax highlighting on code block is improved;</li> <li>The <a href="/files">files</a> section is now being generated at build time.</li> </ol> <p>Look how colorful it is (<a href="#silly-additions-and-the-future" onclick="changeTheme()">click here</a> to change the theme):</p> <div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">longest_repetition</span><span class="p">(</span><span class="n">string</span><span class="p">)</span>
  <span class="n">max</span> <span class="o">=</span> <span class="n">string</span>
          <span class="p">.</span><span class="nf">chars</span>
          <span class="p">.</span><span class="nf">chunk</span><span class="p">(</span><span class="o">&amp;</span><span class="ss">:itself</span><span class="p">)</span>
          <span class="p">.</span><span class="nf">map</span><span class="p">(</span><span class="o">&amp;</span><span class="ss">:last</span><span class="p">)</span>
          <span class="p">.</span><span class="nf">max_by</span><span class="p">(</span><span class="o">&amp;</span><span class="ss">:size</span><span class="p">)</span>

  <span class="n">max</span> <span class="p">?</span> <span class="p">[</span><span class="n">max</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">max</span><span class="p">.</span><span class="nf">size</span><span class="p">]</span> <span class="p">:</span> <span class="p">[</span><span class="s1">''</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>
<span class="k">end</span>
</code></pre></div></div> <p>There’s much yet to be done and I’m sure that I’ll broke many things in the process. If everything went accordingly, much will flourish the next year. What will flourish is another story… but it will. Have faith in me.</p> <hr> <footer><a href="/">Home</a> | <a href="/blog/feed.xml">Subscribe with RSS</a> </footer> </div></body><script type="text/javascript" src="/assets/js/change-theme.js"></script></html>