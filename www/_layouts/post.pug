| {% assign read_time = content | reading_time %}

| {% if read_time == 0 %}
|   {% assign read_time = 1 %}
| {% endif %}

| {% assign read_time = read_time | pluralize: 'min' %}
| {% assign post_tags = page.tags | join: ' ' %}
| {% assign publish_date = page.date | date: '%Y-%m-%d' %}

doctype html
html
  | {% include head.html sheet='default/bright' isPost=true %}
  body
    .main
      a(href='/blog') Back
      |
      | |
      |
      a#change-theme(href='#', onclick='changeTheme()') Dark theme

      h1 {{ page.title }}
      #meta
        p.aleft
          | {% include tags.html tags=post_tags %}
        p.aright
          span.lighter
            | ~{{ read_time }} read
            |
            | &nbsp;
            | {{ publish_date }}
        .aclear
      | {{ content }}
      hr
      footer
        a(href='/') Home
        |
        | |
        |
        a(href='/feed.xml') Subscribe with RSS

  script.
    function changeTheme() {
      var c = "/assets/css";

      var theme = document.getElementById("theme");
      var syntax = document.getElementById("syntax");
      var changeTheme = document.getElementById("change-theme");

      var dim = theme.href.endsWith("bright.css") ? "dark" : "bright";

      theme.href = [c, "default", dim].join("/").concat(".css");
      syntax.href = [c, "syntax", dim].join("/").concat(".css");
      changeTheme.innerHTML = (dim === "bright" ? "Dark" : "Bright").concat(" theme");
    }
